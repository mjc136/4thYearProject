{% extends "base.html" %}

{% block title %}Profile | LingoLizard{% endblock %}

{% block content %}

<div class="container mt-5 text-white">
    <h2 class="mb-4">{{ user.username }}'s Profile</h2>
</div>

<div class="container">
    <div class="row g-4">

        <!-- XP / Level Section -->
        <div class="col-md-6">
            <div class="card bg-dark border-success w-100 h-100">
                <div class="card-body">
                    <h5 class="card-title text-success">ðŸŽ¯ Level Progress</h5>
                    <div class="progress mb-2" style="height: 25px; background-color: rgba(255,255,255,0.1);">
                        <div class="progress-bar bg-success" role="progressbar"
                            style="width: {{ user.level_progress }}%;"
                            aria-valuenow="{{ user.level_progress }}" aria-valuemin="0" aria-valuemax="100"
                            aria-label="XP progress bar">
                            Level {{ user.level }} - {{ user.level_progress }}%
                        </div>
                    </div>
                    <p class="text-light mb-0"><strong>Level {{ user.level }}</strong></p>
                </div>
            </div>
        </div>

        <!-- Streak Section -->
        <div class="col-md-6">
            <div class="card bg-dark border-warning w-100 h-100">
                <div class="card-body text-center">
                    <h5 class="card-title text-warning"><i class="bi bi-fire"></i> Learning Streak</h5>
                    <div class="row mt-3">
                        <div class="col-6">
                            <h4 class="text-white">{{ user.streak_count }}</h4>
                            <p class="text-light mb-0">Current Streak</p>
                        </div>
                        <div class="col-6">
                            <h4 class="text-white">{{ user.highest_streak }}</h4>
                            <p class="text-light mb-0">Best Streak</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        {% for i in range(1, 8) %}
                            <i class="bi bi-fire {{ 'text-warning' if i <= user.streak_count else 'text-secondary' }}"></i>
                        {% endfor %}
                    </div>
                    <p class="text-light mt-2"><small>Complete a scenario each day to keep your streak going!</small></p>
                </div>
            </div>
        </div>

        <!-- Profile Info -->
        <div class="col-12">
            <div class="card bg-dark border-light">
                <div class="card-body">
                    <h5 class="card-title text-info">ðŸ‘¤ Your Info</h5>
                    <p class="text-white"><strong>Username:</strong> {{ user.username }}</p>
                    <p class="text-white"><strong>Language:</strong> {{ user.language }}</p>
                    <p class="text-white"><strong>Level:</strong> {{ user.level }}</p>
                    <p class="text-white"><strong>Total XP:</strong> {{ user.xp }}</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
